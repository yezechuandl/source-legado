[
  {
    "bookSourceComment": "//2025.7.23 å‘ç°æ–°å¢è‡ªå®šä¹‰æ ‡ç­¾ğŸ·ï¸ â—å¤œæ³½å·â—\n//2025.7.10 ä¿®å¤æœç´¢ï¼Œæ’åºå¯ä½œç”¨ä¸æœç´¢ â—å¤œæ³½å·â—\n //2025.6.27 ä¿®å¤æ¥å£è·å– â—å¤œæ³½å·â—\n//2025.6.4 æ–°å¢é‚€è¯·ç è·å– â—å¤œæ³½å·â—\n//2025.5.8 åˆ‡æ¢æ¥å£è‡ªåŠ¨æ›¿æ¢æœ¬åœ°ä¹¦æ¶ä¹¦ç±é“¾æ¥ã€‚ â—å¤œæ³½å·â—\n//2025.4.19 å‘ç°é™é»˜æ£€æµ‹æ›´æ–°ï¼Œæ·»åŠ è¯„è®ºåŒºå¼€å…³ã€‚ â—å¤œæ³½å·â—\n//2025.4.12 ä¿®å¤æ’åºåˆ‡æ¢ï¼Œä¼˜åŒ–éƒ¨åˆ†è§„åˆ™ã€‚â—å¤œæ³½å·â—\n//2025.4.11 å‰”é™¤ä¸€ä¸ªé»˜è®¤æ¥å£ï¼Œä¿®å¤é»˜è®¤æ¥å£çš„ç™»å½•é—®é¢˜ã€‚ â—å¤œæ³½å·â—\n//2025.4.3 ä¿®å¤è¯„è®ºæ•°æ®å¼‚å¸¸æ— æ³•å¤„ç†çš„é—®é¢˜ï¼Œæ–°å¢ä¸€ä¸ªé»˜è®¤æ¥å£ã€‚ â—å¤œæ³½å·â—\n//2025.3.21 ä¼˜åŒ–æ¥å£è·å– â—å¤œæ³½å·â—\n//2025.3.16 æ·»åŠ å‘ç°åˆ†ç±»æ’åºé€‰æ‹© â—å¤œæ³½å·â—\n//2025.3.8 åˆ‡æ¢æ¥å£é‡æ–°è®¾ç½®ç™»é™†cookie â—å¤œæ³½å·â—\n//2025.3.7 é‡æ„ä¹¦æºï¼Œå¢åŠ æ¥å£é€‰æ‹©ã€‚â—å¤œæ³½å·â—\n//2025.3.6 æœ¬åœ°ä¹¦æ¶å˜æ›´ä¸ºæ·»åŠ æ—¶é—´æ’åº â—å¤œæ³½å·â—\n//2025.3.5 â€œæˆ‘çš„ä¹¦è¯„â€æ”¹ä¸ºuidç²¾å‡†åŒ¹é…ã€‚â—å¤œæ³½å·â—\n//2025.3.2 ä¼˜åŒ–æ­£æ–‡ï¼Œé™åˆ¶é¢„ä¸‹è½½ â—å¤œæ³½å·â—\n//2025.3.1 ä¼˜åŒ–å‘ç°åŠæ­£æ–‡ â—å¤œæ³½å·â—\n//2025.2.28 ä¼˜åŒ–ä¹¦è¯„å±•ç¤ºåŠå‘é€ï¼Œä¿®å¤å·²çŸ¥é—®é¢˜ â—å¤œæ³½å·â—\n//2025.2.27 æ›´æ­£ç™»å½•ä¿¡æ¯å±•ç¤º \n//2025.2.26 æ–°å¢ä¹¦è¯„å±•ç¤ºã€‚ï¼ˆå…¶å®ä¹Ÿæ²¡å¤šå°‘è¯„è®ºï¼‰ â—å¤œæ³½å·â—\n//2025.2.23 å¤„ç†æ­£æ–‡æ–‡æœ¬è·å–æ—¶å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚ï¼ˆä¸‰æ¬¡è¯•é”™ï¼‰â—å¤œæ³½å·â—\n//2025.2.22 åŠ å…¥æœ¬åœ°ä¹¦æ¶åŠŸèƒ½ï¼ˆä¸é˜…è¯»ä¹¦æ¶éš”ç¦»ï¼‰ï¼Œç½‘ç»œä¹¦æ¶çš„æ›¿ä»£å“ï¼ˆå› ä¸ºç»éªŒå€¼ï¼‰ï¼Œæœªæ³¨å†Œç”¨æˆ·ä¹Ÿå¯ä½¿ç”¨ã€‚\nï¼ˆå®éªŒæ€§åŠŸèƒ½ï¼Œä¸å»ºè®®åŠ å…¥è¿‡å¤šï¼Œå¯èƒ½ä¼šå‡ºç°æœªçŸ¥é—®é¢˜ï¼Œç”¨ä¹‹å‰è®°å¾—å¤‡ä»½å¥½ğŸ§ï¼‰\n//2025.2.17 å¤„ç†ç½‘ç»œä¹¦æ¶ç¿»é¡µçš„ç›¸å…³é—®é¢˜ â—å¤œæ³½å·â—\n//2025.2.16 ä¼˜åŒ–å‘ç° â—å¤œæ³½å·â—\n//2025.2.13 æ–°å¢ä¹¦æºæ›´æ–°æ£€æµ‹ï¼Œæ ¹æ®ä¹¦æºç¼–è¾‘æ—¶é—´æˆ³åˆ¤æ–­ï¼Œä¿®æ”¹æºä¼šå¯¼è‡´åˆ¤æ–­é”™è¯¯ã€‚â—å¤œæ³½å·â—\n//2025.2.12 æ–°å¢ç½‘ç»œä¹¦æ¶å¤„ç†ï¼ˆä»…ç™»å½•ç”¨æˆ·ï¼‰,åŠ¨æ€è·å–å‘ç°ã€‚â—å¤œæ³½å·â—\n//2025.2.9 è‡ªåŠ¨å¤„ç†æ­£æ–‡éªŒè¯ã€‚â—å¤œæ³½å·â—\n//2025.1.26 ä¿®å¤ç™»å½•å‡½æ•°ä¸­ä¸é˜…è¯»å†…ç½®å˜é‡å†²çªã€‚â—å¤œæ³½å·â—\n//2025.1.24 ä¼˜åŒ–ç™»å½•è§„åˆ™ â—å¤œæ³½å·â—//2024.7.26 â—å¤œæ³½å·â—\n//æœç´¢å’Œå‘ç°éœ€è¦å°é¢å¯å¤åˆ¶è§„åˆ™åˆ°ç›¸åº”ä½ç½®ï¼Œå› ä¸ºå°é¢æ˜¯ä»è¯¦æƒ…å–çš„ï¼Œæ‰€ä»¥å¯èƒ½ä¼šå¯¼è‡´åŠ è½½å˜æ…¢ç”šè‡³è¶…æ—¶ï¼Œè‡ªè¡Œæ–Ÿé…Œã€‚â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“\na@href\n<js>\nul = GetUL() + result;\njava.ajax(ul);\n</js>\n[property$=image]@content",
    "bookSourceGroup": "è‡ªåˆ¶,é›¶",
    "bookSourceName": "Â®ï¸çˆ±ä¸½ä¸ä¹¦å±‹",
    "bookSourceType": 0,
    "bookSourceUrl": "çˆ±ä¸½ä¸ä¹¦å±‹ by.å¤œæ³½å·",
    "bookUrlPattern": "https?:\\/\\/.*?(xnxnxn|alicesw|çˆ±ä¸½ä¸).*?\\.(org|xyz|com|sbs)\\/novel\\/\\d+\\.html",
    "customOrder": 175,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "@js:\neval(String(source.loginUrl));\nvar timestamp = new Date().getTime();\nvar uptime = cache.get(\"uptime\");\nif (!uptime) {\n    update(\"å‘ç°\");\n    cache.put(\"uptime\", (timestamp + 21600000).toString());\n} else if (timestamp >= Number(uptime)) {\n    update(\"å‘ç°\");\n    cache.delete(\"uptime\");\n    cache.put(\"uptime\", (timestamp + 21600000).toString());\n}\nlet Cookie = cookie.getCookie(GetUL());\nif (!/lf_user_auth/.test(Cookie) && source.getLoginHeader()) {\n    let ck = source.getLoginHeaderMap()['Cookie']\n    cookie.setCookie(GetUL(), ck);\n    java.toast('ç™»å½•çŠ¶æ€æ‰äº†ï¼Œå·²é‡æ–°ç™»é™†');\n}\nvar result = [];\nvar headers = JSON.stringify({\"headers\":{\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.171 Safari/537.36\"}});\nvar push = (title, url, size) =>\n    result.push({\n        title: title,\n        url: url ? `{{GetUL()}}${url},` + headers : url,\n        style: {\n            layout_flexGrow: 1,\n            layout_flexBasisPercent: size\n        }\n    });\npush(`å½“å‰ç«™æºï¼š${GetUL()}`, null, 1)\nif (source.getLoginHeader()) {\n    let jc = source.getLoginHeaderMap();\n    let inf = decodeURIComponent(jc.get(\"Cookie\"));\n    let info = decodeURIComponent(inf).match(/\\{[\\s\\S]+\\}/)[0];\n    let username = JSON.parse(info)['username'];\n    let expe = java.ajax(`${GetUL()}/user/index/index.html`);\n    let ex = org.jsoup.Jsoup.parse(expe).select('.group , .app_accountBlock_lis ul li');\n    push(`ç”¨æˆ·â—${username}â—ä¸­å¿ƒ`, null, 1);\n    push(\"ä¹¦æ¶\", \"/user/bookshelf?page={{page}}\", 0.45);\n    push(\"é˜…è¯»è®°å½•\", \"/user/recentread/index.html\", 0.45);\n    ex.forEach(xp => {\n        nam = String(xp.text()).replace(/[^\\u4e00-\\u9fa5a-zA-Z0-9]/g, \"\");\n        title = /\\d/.test(nam) ? nam.replace(/\\d+/, \"ï¼š$&\") : nam.replace(/^/, \"ç”¨æˆ·ç­‰çº§ï¼š\");\n        push(title, null, 0.45);\n    });\n} else {\n    push(\"æœªç™»å½•\", null, 1);\n}\npush(\"--------ä¹¦åº“--------\", null, 1);\npush(\"æœ€è¿‘æ›´æ–°\", \"/all{{Sort_()}}.html\", 0.45);\npush(\"åŸåˆ›\", \"/original.html?page={{page}}\", 0.45);\npush(\"æ’è¡Œ\", null, 1);\nvar src = java.ajax(`${GetUL()}/all/order/hits+desc.html`);\nvar ph = org.jsoup.Jsoup.parse(src).select('.paihang_ds a');\nph.forEach(ta => {\n    nam = ta.text();\n    ul = ta.attr('href')\n    push(nam, ul, 0.45);\n})\npush(\"åˆ†ç±»\", null, 1);\nvar tag = org.jsoup.Jsoup.parse(src).select('.fenlei_ds a');\ntag.forEach(ta => {\n    nam = ta.text();\n    ul = String(ta.attr('href')).replace(/$/, \"?page={{page}}\").replace(/lists/, \"all/id\").replace(/\\.html/, `{{Sort_()}}$&`);\n    push(nam, ul, 0.25);\n})\nif (source.getLoginInfoMap()?.[\"å‘ç°è‡ªå®šä¹‰æ ‡ç­¾ğŸ·ï¸ï¼ˆä¸­ / è‹±é€—å·åˆ†éš”ï¼‰\"] != \"\") {\n\t   push(\"è‡ªå®šä¹‰æ ‡ç­¾ğŸ·ï¸\", null, 1);\n\t   let myTags = String(source.getLoginInfoMap()[\"å‘ç°è‡ªå®šä¹‰æ ‡ç­¾ğŸ·ï¸ï¼ˆä¸­ / è‹±é€—å·åˆ†éš”ï¼‰\"]).split(/[,ï¼Œ]/);\n\t   myTags.forEach(tag => {\n\t   \tlet url = `/search.html?q=${tag}&f=tag&sort={{Sort_('search')}}&p={{page}}&serialize=`;\n\t   \tpush(tag, url, 0.25);\n\t   \t});\n}\nJSON.stringify(result);",
    "header": "{\"User-Agent\": \"Mozilla/5.0 (Linux; Android 9) Mobile Safari/537.36\"}",
    "jsLib": "nk = \"PGh0bWw+CjxoZWFkPgogICAgPG1ldGEgaHR0cC1lcXVpdj0icmVmcmVzaCIgY29udGVudD0iMDt1cmw9bGVnYWRvOi8vaW1wb3J0L1NvdXJjZT9zcmM9aHR0cHM6Ly9mYXN0bHkuanNkZWxpdnIubmV0L2doL3llemVjaHVhbmRsL3NvdXJjZS1sZWdhZG9AbWFpbi9zb3VyY2Uv54ix5Li95Lid5Lmm5bGLLmpzb24iPgogICAgPHN0eWxlPgogICAgICAgIC5ub3RpY2UtYm94IHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsgLyog5ZCv55SoRmxleGJveOW4g+WxgCAqLwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgaGVpZ2h0OiAxMDB2aDsKICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4OwogICAgICAgIH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGNsYXNzPSJub3RpY2UtYm94Ij4KICAgICAgICA8cD7oi6Xot7PovazmnKroh6rliqjmiafooYw8YnI+CiAgICAgICAgPGEgaHJlZj0ibGVnYWRvOi8vaW1wb3J0L1NvdXJjZT9zcmM9aHR0cHM6Ly9mYXN0bHkuanNkZWxpdnIubmV0L2doL3llemVjaHVhbmRsL3NvdXJjZS1sZWdhZG9AbWFpbi9zb3VyY2Uv54ix5Li95Lid5Lmm5bGLLmpzb24iPuivt+aJi+WKqOeCueWHu+atpOWkhDwvYT48L3A+CiAgICA8L2Rpdj4KPC9ib2R5Pgo8L2h0bWw+\";\n\nfunction Sort_(t) {\n\t   const { source } = this\n    const sgvs = JSON.parse(source.getVariable())?.s || 0;\n    \n    if (!sgvs) return t === 'search' ? 'relevance' : '';\n    const sorts = ['update_time+desc', 'hits+desc', 'word+desc'];\n    const sort = sorts[sgvs - 1];\n    \n    if (t === 'search') {\n        return sort.replace('+', '_');\n    }\n    return '/order/' + sort;\n}\n\nfunction GetUL() {\n\tconst { java, source } = this\n\tlet sourceul = JSON.parse(source.getVariable()).sourl;\n\treturn sourceul;\n}\n\n//è®¡ç®—æœ€ç»ˆvalueå€¼\nfunction getval(kk) {\n\t   const { java } = this\n    var val = \"\";\n    for (var i = 0; i <= kk.length - 1; i++) {\n        var str = kk.charAt(i);\n        var code = str.charCodeAt();\n        val += parseInt(code) + 1;\n    }\n    valu = java.md5Encode(val);\n    return valu;\n}\n\nfunction timeov(times) {\n    const date = new Date(times);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    const seconds = String(date.getSeconds()).padStart(2, '0');\n    \n    return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n}\n\n//è‡ªå®šä¹‰ä¹¦æ¶\nfunction booklist() {\n\tconst { java , source } = this\n let all = JSON.parse(source.getVariable()).booklist;\n let list = String(JSON.stringify(all));\n let hm = \"PCFET0NUWVBFIGh0bWw+PGh0bWwgbGFuZz16aC1DTj48aGVhZD48bWV0YSBjaGFyc2V0PVVURi04PjxtZXRhIG5hbWU9dmlld3BvcnQgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLGluaXRpYWwtc2NhbGU9MSI+PHRpdGxlPuacrOWcsOS5puaetjwvdGl0bGU+PHN0eWxlPmJvZHl7bWFyZ2luOjA7cGFkZGluZzoyMHB4O2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sc3lzdGVtLXVpLCJTZWdvZSBVSSIsUm9ib3RvLHNhbnMtc2VyaWY7YmFja2dyb3VuZDojZjVmNWY3fS5jb3JuZXItdGV4dHtwb3NpdGlvbjpmaXhlZDt0b3A6MjBweDtsZWZ0OjIwcHg7Zm9udC1zaXplOi45ZW07Y29sb3I6Izg2ODY4YjtvcGFjaXR5Oi45O3otaW5kZXg6MTAwO2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuOCk7cGFkZGluZzo1cHggMTBweDtib3JkZXItcmFkaXVzOjZweDtiYWNrZHJvcC1maWx0ZXI6Ymx1cigycHgpO2JveC1zaGFkb3c6MCAycHggNHB4IHJnYmEoMCwwLDAsLjA1KX0uc2hlbGYtY29udGFpbmVye21heC13aWR0aDoxMjAwcHg7bWFyZ2luOjAgYXV0bztiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czoxOHB4O2JveC1zaGFkb3c6MCA0cHggMTJweCByZ2JhKDAsMCwwLC4xKTtwYWRkaW5nOjMwcHg7cG9zaXRpb246cmVsYXRpdmV9LnNoZWxmLXRpdGxle3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZToyLjVyZW07Y29sb3I6IzFkMWQxZjttYXJnaW46MCAwIDMwcHggMDtwYWRkaW5nLWJvdHRvbToyMHB4O2JvcmRlci1ib3R0b206MnB4IHNvbGlkICNmMGYwZjB9LmdyaWR7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoYXV0by1maWxsLG1pbm1heCgyNTBweCwxZnIpKTtnYXA6MjVweDtwYWRkaW5nOjE1cHggMH0uYm9vay1pdGVte2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjEycHg7cGFkZGluZzoxOHB4O2JveC1zaGFkb3c6MCAycHggOHB4IHJnYmEoMCwwLDAsLjA4KTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMnMsYm94LXNoYWRvdyAuMnM7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uYm9vay1pdGVtOmhvdmVye3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0zcHgpO2JveC1zaGFkb3c6MCA0cHggMTZweCByZ2JhKDAsMCwwLC4xMil9LmNvdmVyLWNvbnRhaW5lcnt3aWR0aDoxMDAlO2FzcGVjdC1yYXRpbzozLzQ7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luLWJvdHRvbToxNXB4fS5jb3Zlci1pbWd7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvYmplY3QtZml0OmNvbnRhaW47Ym9yZGVyLXJhZGl1czo4cHh9LmJvb2stbmFtZXtmb250LXNpemU6MS4xZW07bWFyZ2luOjAgMCA4cHggMDtjb2xvcjojMWQxZDFmO2ZvbnQtd2VpZ2h0OjYwMH0uYm9vay1hdXRob3J7Zm9udC1zaXplOi45ZW07Y29sb3I6IzY2NjttYXJnaW4tYm90dG9tOjEycHh9LmJvb2staW5mb3tmb250LXNpemU6LjllbTtjb2xvcjojODY4NjhiO2xpbmUtaGVpZ2h0OjEuNTtoZWlnaHQ6NC41ZW07b3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6LXdlYmtpdC1ib3g7LXdlYmtpdC1saW5lLWNsYW1wOjM7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsO2ZsZXgtZ3JvdzoxfS5jb3B5cmlnaHQtYWxlcnR7cG9zaXRpb246Zml4ZWQ7dG9wOjIwcHg7bGVmdDoyMHB4O3otaW5kZXg6OTk5O2NvbG9yOiNmNDQ7Zm9udC1zaXplOjE4cHg7Zm9udC13ZWlnaHQ6NzAwO2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuOSk7cGFkZGluZzo4cHggMTVweDtib3JkZXItcmFkaXVzOjZweDtib3gtc2hhZG93OjAgMnB4IDhweCByZ2JhKDI1NSw2OCw2OCwuMyk7YW5pbWF0aW9uOnNoYWtlIC44cyBlYXNlfUBrZXlmcmFtZXMgc2hha2V7MCUsMTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX0yNSV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTVweCl9NzUle3RyYW5zZm9ybTp0cmFuc2xhdGVYKDVweCl9fS5zaGVsZi1jb250YWluZXJ7bWF4LXdpZHRoOjEyMDBweDttYXJnaW46MCBhdXRvO2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjE4cHg7Ym94LXNoYWRvdzowIDRweCAxMnB4IHJnYmEoMCwwLDAsLjEpO3BhZGRpbmc6MzBweDttYXJnaW4tdG9wOjUwcHh9PC9zdHlsZT48Ym9keT48ZGl2IGNsYXNzPW9yaWdpbmFsLWF1dGhvcj7mupDkvZzogIXvvJrlpJzms73lt508L2Rpdj48ZGl2IGNsYXNzPXNoZWxmLWNvbnRhaW5lcj48aDEgY2xhc3M9c2hlbGYtdGl0bGU+5pys5Zyw5Lmm5p62PC9oMT48ZGl2IGlkPWJvb2tzaGVsZj48L2Rpdj48L2Rpdj48c2NyaXB0PuKXjuWPguiAg+agh+ivhuKXjgogICAgICAgIGZ1bmN0aW9uIHJlbmRlckJvb2tzaGVsZigpe2NvbnN0IGNvbnRhaW5lcj1kb2N1bWVudFsiZ2V0RWxlbWVudEJ5SWQiXSgnYm9va3NoZWxmJyk7bGV0IGh0bWw9Jyc7aWYobGlzdFsibGVuZ3RoIl09PT0gMCl7aHRtbD0gJzxkaXYgY2xhc3M9XCJlbXB0eS1tZXNzYWdlXCI+XHU2NjgyXHU2NWY2XHU2Y2ExXHU2NzA5XHU0ZTY2XHU3YzRkXHVmZjBjXHU1ZmViXHU1M2JiXHU2ZGZiXHU1MmEwXHU1NDI3XHVmZjAxPC9kaXY+J31lbHNlIHtodG1sPSAnPGRpdiBjbGFzcz1cImdyaWRcIj4nO2xpc3RbInJldmVyc2UiXSgpWyJmb3JFYWNoIl0oKGJvb2spPT57aHRtbCs9ICgiXHgwRFx4MEEgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm9vay1pdGVtXCI+XHgwRFx4MEEgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvdmVyLWNvbnRhaW5lclwiPlx4MERceDBBICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiIrYm9va1siaW1nIl0rIlwiIGFsdD1cIiIrYm9va1sibmFtZSJdKyJcIiBjbGFzcz1cImNvdmVyLWltZ1wiPlx4MERceDBBICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Plx4MERceDBBICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cImJvb2stbmFtZVwiPiIrYm9va1sibmFtZSJdKyI8L2gzPlx4MERceDBBICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib29rLWF1dGhvclwiPiIrYm9va1siYXV0aG9yIl0rIjwvZGl2Plx4MERceDBBICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiYm9vay1pbmZvXCI+Iitib29rWyJpbmZvIl0rIjwvcD5ceDBEXHgwQSAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiIitib29rWyJ1cmwiXSsiXCIgY2xhc3M9XCJib29rLWxpbmtcIj5cdTdhY2JcdTUzNzNcdTk2MDVcdThiZmI8L2E+XHgwRFx4MEEgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4iKX0pO2h0bWwrPSAnPC9kaXY+J307Y29udGFpbmVyWyJpbm5lckhUTUwiXT0gaHRtbH1mdW5jdGlvbiBjaGVja0NvcHlyaWdodCgpe2NvbnN0IGF1dGhFbGVtZW50PWRvY3VtZW50WyJxdWVyeVNlbGVjdG9yIl0oJy5vcmlnaW5hbC1hdXRob3InKTtjb25zdCBpc1ZhbGlkPWF1dGhFbGVtZW50JiYgYXV0aEVsZW1lbnRbInRleHRDb250ZW50Il1bInRyaW0iXSgpPT09ICdcdTZlOTBcdTRmNWNcdTgwMDVcdWZmMWFcdTU5MWNcdTZjZmRcdTVkZGQnO2lmKCFpc1ZhbGlkJiYgICFkb2N1bWVudFsicXVlcnlTZWxlY3RvciJdKCcuY29weXJpZ2h0LWFsZXJ0Jykpe2NvbnN0IGFsZXJ0PWRvY3VtZW50WyJjcmVhdGVFbGVtZW50Il0oJ2RpdicpO2FsZXJ0WyJjbGFzc05hbWUiXT0gJ2NvcHlyaWdodC1hbGVydCc7YWxlcnRbInRleHRDb250ZW50Il09ICdcdTk2MzJcdTc2ZDdcdTc1MjhcdTI1Y2VcdTZlOTBcdTRmNWNcdTgwMDVcdTRlM2FcdTU5MWNcdTZjZmRcdTVkZGQnO2RvY3VtZW50WyJib2R5Il1bImFwcGVuZENoaWxkIl0oYWxlcnQpfX13aW5kb3dbImFkZEV2ZW50TGlzdGVuZXIiXSgnRE9NQ29udGVudExvYWRlZCcsKCk9PntyZW5kZXJCb29rc2hlbGYoKTtjaGVja0NvcHlyaWdodCgpO3NldEludGVydmFsKGNoZWNrQ29weXJpZ2h0LDEwMDAwKX0pPC9zY3JpcHQ+\"\n let cc = java.base64Decode(hm);\n let html = String(cc).replace(/â—å‚è€ƒæ ‡è¯†â—/,`const list = ${list}`);\n //java.log(html);\nreturn java.base64Encode(html);;\n}\n\ncodesvg = \"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIAogICAgIHZpZXdCb3g9IjAgMCA3MDAgMjAwIiAKICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIgogICAgIHN0eWxlPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyI+CiAgPHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0id2hpdGUiLz4KICAKICA8IS0tIOmhtumDqOagh+mimCAtLT4KICA8dGV4dCB4PSI1MCUiIHk9IjQwIiAKICAgICAgICBmb250LXNpemU9IjIwIiAKICAgICAgICBmb250LXdlaWdodD0iYm9sZCIgCiAgICAgICAgdGV4dC1hbmNob3I9Im1pZGRsZSIgCiAgICAgICAgZmlsbD0iIzAwMCI+6YCJ5oup5Y+R6YCB57G75Z6LPC90ZXh0PgogIAogIDwhLS0g6K+E6K665qih5Z2XIC0tPgogIDx0ZXh0IHg9IjI1JSIgeT0iOTAiIAogICAgICAgIGZvbnQtc2l6ZT0iMTYiIAogICAgICAgIGZvbnQtd2VpZ2h0PSJib2xkIiAKICAgICAgICB0ZXh0LWFuY2hvcj0ibWlkZGxlIiAKICAgICAgICBmaWxsPSIjMDAwIj7or4Torro8L3RleHQ+CiAgPHRleHQgeD0iMjUlIiB5PSIxMTAiIAogICAgICAgIGZvbnQtc2l6ZT0iMTQiIAogICAgICAgIGZvbnQtd2VpZ2h0PSJib2xkIiAKICAgICAgICB0ZXh0LWFuY2hvcj0ibWlkZGxlIiAKICAgICAgICBmaWxsPSIjMDAwIj4o5aGr5YaZIuivhOiuuiIpPC90ZXh0PgogIAogIDwhLS0g5Zue5aSN5qih5Z2XIC0tPgogIDx0ZXh0IHg9Ijc1JSIgeT0iOTAiIAogICAgICAgIGZvbnQtc2l6ZT0iMTYiIAogICAgICAgIGZvbnQtd2VpZ2h0PSJib2xkIiAKICAgICAgICB0ZXh0LWFuY2hvcj0ibWlkZGxlIiAKICAgICAgICBmaWxsPSIjMDAwIj7lm57lpI08L3RleHQ+CiAgPHRleHQgeD0iNzUlIiB5PSIxMTAiIAogICAgICAgIGZvbnQtc2l6ZT0iMTQiIAogICAgICAgIGZvbnQtd2VpZ2h0PSJib2xkIiAKICAgICAgICB0ZXh0LWFuY2hvcj0ibWlkZGxlIiAKICAgICAgICBmaWxsPSIjMDAwIj4o5aGr5YaZIkBpZCIpPC90ZXh0PgogIAogIDwhLS0g5bqV6YOo5L+h5oGvIC0tPgogIDx0ZXh0IHg9IjUwJSIgeT0iMTgwIiAKICAgICAgICBmb250LXNpemU9IjE0IiAKICAgICAgICBmb250LXdlaWdodD0iYm9sZCIgCiAgICAgICAgdGV4dC1hbmNob3I9Im1pZGRsZSIgCiAgICAgICAgZmlsbD0iIzAwMCI+5qW85bGCaWTnroDku4vmnIk8L3RleHQ+Cjwvc3ZnPg==\"",
    "lastUpdateTime": 1753527614309,
    "loginUi": "[   \n    {\n        name: \"é—®é¢˜åé¦ˆ\",\n        type: \"button\",\n        action: \"java.startBrowser('https://github.com/yezechuandl/source-legado','Github');\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.25\n        }\n    },\n    {\n        \"name\": \"æ›´æ–°ä¹¦æº\",\n        \"type\": \"button\",\n        \"action\": \"update()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.25\n        }\n    },\n    {\n        \"name\": \"æ›´æ–°æ—¥å¿—\",\n        \"type\": \"button\",\n        \"action\": \"Updatelog()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.25\n        }\n    },\n    {\n        \"name\": \"è·å–æ¥å£\",\n        \"type\": \"button\",\n        \"action\": \"Geturls()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    },\n    {\n        \"name\": \"æ¥å£1\",\n        \"type\": \"button\",\n        \"action\": \"Puturl(0)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"æ¥å£2\",\n        \"type\": \"button\",\n        \"action\": \"Puturl(1)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"æ¥å£3\",\n        \"type\": \"button\",\n        \"action\": \"Puturl(2)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"æ¥å£4\",\n        \"type\": \"button\",\n        \"action\": \"Puturl(3)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"ç”¨æˆ·å/é‚®ç®±\",\n        \"type\": \"text\"\n    },\n    {\n        \"name\": \"å¯†ç \",\n        \"type\": \"password\"\n    },\n    {\n        \"name\": \"æ³¨å†Œ\",\n        \"type\": \"button\",\n        \"action\": \"reg()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"ç™»å½•\",\n        \"type\": \"button\",\n        \"action\": \"Login()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"ç™»å‡º\",\n        \"type\": \"button\",\n        \"action\": \"out()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"ä¿¡æ¯\",\n        \"type\": \"button\",\n        \"action\": \"show()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"è¯„è®ºå±•ç¤ºå¼€ / å…³\",\n        \"type\": \"button\",\n        \"action\": \"Comment()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    },\n    {\n        \"name\": \"ç‚¹å‡»åˆ‡æ¢åˆ†ç±»æ’åºæ–¹å¼\",\n        \"type\": \"button\",\n        \"action\": \"\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    },\n    {\n        \"name\": \"é»˜è®¤\",\n        \"type\": \"button\",\n        \"action\": \"Tgch(0)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"æ—¶é—´\",\n        \"type\": \"button\",\n        \"action\": \"Tgch(1)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"äººæ°”\",\n        \"type\": \"button\",\n        \"action\": \"Tgch(2)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"å­—æ•°\",\n        \"type\": \"button\",\n        \"action\": \"Tgch(3)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"å‘ç°è‡ªå®šä¹‰æ ‡ç­¾ğŸ·ï¸ï¼ˆä¸­ / è‹±é€—å·åˆ†éš”ï¼‰\",\n        \"type\": \"text\"\n    },\n    {\n        \"name\": \"â—â†“ç½‘ç»œä¹¦æ¶â†“â—\",\n        \"type\": \"button\",\n        \"action\": \"\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    },\n    {\n        \"name\": \"ä¹¦ç±ID\",\n        \"type\": \"text\"\n    },\n    {\n        \"name\": \"æ·»åŠ ç½‘ç»œä¹¦æ¶\",\n        \"type\": \"button\",\n        \"action\": \"AFBook(true)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.45\n        }\n    },\n    {\n        \"name\": \"ç§»é™¤ç½‘ç»œä¹¦æ¶\",\n        \"type\": \"button\",\n        \"action\": \"AFBook(false)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.45\n        }\n    },\n    {\n        \"name\": \"æ‰“å¼€ä¹¦æ¶\",\n        \"type\": \"button\",\n        \"action\": \"BookShelf()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    },\n    {\n        \"name\": \"â—â†“æœ¬åœ°ä¹¦æ¶â†“â—\",\n        \"type\": \"button\",\n        \"action\": \"\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    },\n    {\n        \"name\": \"æ”¾ç½®\",\n        \"type\": \"button\",\n        \"action\": \"bookinto()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"åˆ é™¤\",\n        \"type\": \"button\",\n        \"action\": \"bookmove('one')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"âš ï¸æ¸…ç©ºâš ï¸\",\n        \"type\": \"button\",\n        \"action\": \"bookmove('all')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.2\n        }\n    },\n    {\n        \"name\": \"æ‰“å¼€æœ¬åœ°ä¹¦æ¶\",\n        \"type\": \"button\",\n        \"action\": \"inBookShelf()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    },\n    {\n        \"name\": \"é‚€è¯·ç ã€âš ï¸ç”Ÿæˆä¸€ä¸ªéœ€æ¶ˆè€—50ç§¯åˆ†ã€‘\",\n        \"type\": \"button\",\n        \"action\": \"\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    },\n    {\n        \"name\": \"ğŸ’¡ç”Ÿæˆé‚€è¯·ç \",\n        \"type\": \"button\",\n        \"action\": \"InvitationCode(true)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.25\n        }\n    },\n    {\n        \"name\": \"ğŸ“œæ‰“å°é‚€è¯·ç \",\n        \"type\": \"button\",\n        \"action\": \"InvitationCode()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.25\n        }\n    }\n]",
    "loginUrl": "var r = {\n    \"s\": 0,\n    \"co\": 0,\n    \"urls\": [],\n    \"sourl\": \"https://alicesw.com\",\n    \"booklist\": []\n};\n\nif (!String(source.getVariable())) {\n    source.setVariable(JSON.stringify(r, null, \"\\t\"));\n    java.toast('å·²åˆå§‹åŒ–ï¼Œä½¿ç”¨é»˜è®¤ç«™æº');\n}\n\nvar sgv = JSON.parse(source.getVariable());\nvar sg = source.get(\"list\");\nvar ul = GetUL();\n\nfunction reg() {\n    java.startBrowser(`${ul}/user/user/reg.html`, \"æ³¨å†Œè´¦å·\");\n}\n\nfunction Comment() {\n    let sgvo = sgv.co;\n    sgv.co = sgv.co ? 0 : 1;\n    source.setVariable(JSON.stringify(sgv, null, \"\\t\"));\n    java.toast(`\\nè¯„è®ºåŒº\\nã€${[\"å¼€å¯\", \"ç¦ç”¨\"][sgvo]} â†’ ${[\"å¼€å¯\", \"ç¦ç”¨\"][sgv.co]}ã€‘`);\n}\n\nfunction Updatelog() {\n    java.longToast(\"\\n\" + java.base64Decode(source.variableComment));\n}\n\nfunction login() {}\n\nfunction Tgch(o) {\n    const sort = [\"é»˜è®¤\", \"æ›´æ–°æ—¶é—´\", \"äººæ°”\", \"å­—æ•°\"];\n    const msg = sgv.s === o ? `é‡å¤é€‰æ‹©\\nå½“å‰æ’åºæ–¹å¼å·²æ˜¯ã€${sort[o]}ã€‘` \n                            : (sgv.s = o, source.setVariable(JSON.stringify(sgv, null, \"\\t\")), `å·²åˆ‡æ¢å‘ç°æ’åºæ–¹å¼ä¸ºã€${sort[o]}ã€‘`);\n    java.toast(\"\\n\" + msg);\n}\n\nfunction Geturls() {\n    sgv.urls.length = 0;\n    try {\n        const res = org.jsoup.Jsoup.parse(java.get('https://alicesw.click/', {}).body()).select('.container a');\n        const url1 = java.base64Decode(res[0].attr('href').match(/['\"](.*?)['\"]/)[1]);\n        sgv.urls.push(String(url1).replace(/\\/?$/, \"\"));\n        \n        const url2 = java.base64Decode(res[1].attr('href').match(/['\"](.*?)['\"]/)[1]);\n        const src = java.get(url2, {}).body();\n        const seen = new Set();\n        for (let match of src.matchAll(/targetHref\\:\\s*[\"'](https?[^\"']+)\\/?[\"']/g)) {\n            if (!seen.has(match[1])) {\n                sgv.urls.push(match[1]);\n                seen.add(match[1]);\n            }\n        }\n        source.setVariable(JSON.stringify(sgv, null, \"\\t\"));\n\n        if (sgv.urls.length >= 2) {\n            java.toast(`è·å–æˆåŠŸï¼Œå…±è·å–åˆ°${sgv.urls.length}ä¸ªæ¥å£\\nâ”â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”’\\n${sgv.urls.join('\\n')}\\nâ”–â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”š`);\n        } else {\n            java.toast('è·å–å¤±è´¥ï¼Œè¯·é‡è¯•æˆ–æ£€æŸ¥ç½‘ç»œçŠ¶å†µ');\n        }\n    } catch (e) {\n        java.log(e);\n        java.toast('\\næœªçŸ¥é”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–æ›´æ–°é˜…è¯»ç‰ˆæœ¬ï¼');\n    }\n}\n\nfunction Puturl(e) {\n    if (!sgv.urls.length) return java.toast('\\nå½“å‰æ²¡æœ‰æ¥å£ï¼Œè¯·è·å–åé€‰æ‹©');\n    if (e + 1 > sgv.urls.length) return java.toast(`æš‚æ— ç¬¬${e+1}æ¥å£`);\n    \n    try {\n        const stime = Date.now();\n        java.get(sgv.urls[e], {});\n        const speedtime = (Date.now() - stime) / 1000;\n        \n        sgv.sourl = sgv.urls[e];\n        sgv.booklist.forEach(item => {\n            item.img = item.img.replace(/https?:\\/\\/[^\\/]+/, sgv.urls[e]);\n            item.url = item.url.replace(/https?:\\/\\/[^\\/]+/, sgv.urls[e]);\n        });\n        source.setVariable(JSON.stringify(sgv, null, \"\\t\"));\n        \n        // åˆ‡æ¢æ¥å£ä¿æŒç™»å½•çŠ¶æ€\n        const Cookie = cookie.getCookie(sgv.urls[e]);\n        if (!/lf_user_auth/.test(Cookie) && source.getLoginHeader()) {\n            cookie.setCookie(sgv.urls[e], source.getLoginHeaderMap().get('Cookie'));\n        }\n        java.toast(`å·²è®¾ç½®æ¥å£ä¸ºï¼š\\n${sgv.urls[e]}\\nâ™¦è§£æç”¨æ—¶${speedtime}ç§’â™¦`);\n    } catch (err) {\n        java.log(err.message);\n        java.toast(`\\nã€æ¥å£${e+1}ï¼š${sgv.urls[e]}ã€‘\\nå·²å¤±æ•ˆï¼Œè¯·æ£€æŸ¥ç½‘ç»œçŠ¶å†µæˆ–åˆ‡æ¢å…¶ä»–æ¥å£`);\n    }\n}\n\nfunction Login() {\n    cookie.removeCookie(ul);\n    const na = result['ç”¨æˆ·å/é‚®ç®±'];\n    const pa = result['å¯†ç '];\n    \n    if (!na || !pa) return;\n    \n    try {\n        const phpid = java.get(`${ul}/user/user/verify.html`, {}).header(\"set-cookies\");\n        const code = java.getVerificationCode(`${ul}/user/user/verify.html`);\n        const response = java.post(`${ul}/user/user/login.html`, \n            `username=${na}&password=${pa}&code=${code}`, \n            { \"x-requested-with\": \"XMLHttpRequest\", \"Cookie\": phpid });\n        \n        const ck = cookie.mapToCookie(response.cookies());\n        const usercode = JSON.parse(response.body()).msg;\n        java.toast(usercode);\n        \n        if (ck) {\n            source.putLoginHeader(JSON.stringify({\"Cookie\": ck}));\n            cookie.replaceCookie(GetUL(), ck);\n        } else {\n            source.removeLoginHeader();\n            cookie.removeCookie(GetUL());\n        }\n    } catch (e) {\n        java.log(e);\n        java.toast('\\nç™»å½•å‡ºé”™ï¼Œè¯·åˆ‡æ¢å…¶ä»–æ¥å£é‡è¯•ï¼');\n    }\n}\n\nfunction out() {\n    source.removeLoginHeader();\n    cookie.removeCookie(GetUL());\n    java.toast(\"å·²é€€å‡ºç™»å½•çŠ¶æ€\");\n}\n\nfunction show() {\n    const jc = source.getLoginHeaderMap();\n    let us, id, codes;\n    \n    if (jc) {\n        const info = decodeURIComponent(decodeURIComponent(jc.get(\"Cookie\")).match(/\\{[\\s\\S]+\\}/)[0]);\n        const userInfo = JSON.parse(info);\n        us = userInfo.username;\n        id = userInfo.uid;\n        codes = \"âœ”ï¸å·²ç™»å½•\";\n    } else {\n        us = id = \"æ— \";\n        codes = \"âŒæœªç™»å½•\";\n    }\n    \n    java.longToast(`\\nâ—ç”¨æˆ·ï¼š${us}â—\\nâ—ç”¨æˆ·IDï¼š${id}â—\\nâ—ç™»å½•çŠ¶æ€ï¼š${codes}â—`);\n}\n\n\nfunction InvitationCode(c) {\n    if (!source.getLoginHeaderMap()) return java.toast(\"æœªç™»å½•ï¼Œè¯·ç™»å½•åè·å–\");\n    \n    let text = \"\";\n    if (c) {\n        java.post(ul + \"/user/user/createinvitecode.html\", \"create_num=1\", \n            {\"Cookie\": source.getLoginHeaderMap()[\"Cookie\"]});\n        text += \"\\nå·²æ¶ˆè€—50ç§¯åˆ†ç”Ÿæˆä¸€ä¸ªé‚€è¯·ç \";\n    }\n    \n    const verify_list = org.jsoup.Jsoup.parse(java.ajax(ul + \"/user/user/invitecode\")).select('.verify_list .item');\n    java.log(\"\\n\" + String(verify_list.html()).replace(/<[^>]+?>\\s*|å¤åˆ¶| (?!\\d)/g, \"\"));\n    java.toast(text + \"\\né‚€è¯·ç å·²æ‰“å°è‡³æºæ—¥å¿—\");\n}\n\nfunction update(u) {\n\ttry {\n    const sourcetime = source.lastUpdateTime;\n    const upul = \"https://fastly.jsdelivr.net/gh/yezechuandl/source-legado@main/source/çˆ±ä¸½ä¸ä¹¦å±‹.json\";\n    const uptime = JSON.parse(java.ajax(upul))[0].lastUpdateTime;\n    \n    if (+uptime > +sourcetime) {\n        java.toast(\"æ£€æµ‹åˆ°æ›´æ–°ï¼Œæ­£åœ¨è·³è½¬â€¦â€¦\");\n        Packages.java.lang.Thread.sleep(2000);\n        java.startBrowser('data:text/html;base64,' + nk, 'æ›´æ–°');\n    } else if (u != \"å‘ç°\") {\n        java.toast(`\\næœ¬åœ°ä¹¦æºç‰ˆæœ¬è¾ƒæ–°ï¼Œæ— éœ€æ›´æ–°ã€‚\\næœ¬åœ°ï¼š${timeov(sourcetime)}\\nç½‘ç»œï¼š${timeov(uptime)}`);\n    }\n  } catch (e) {\n  \tjava.log(e.message);\n  \tjava.toast('æœªçŸ¥é”™è¯¯');\n  }\n}\n\nfunction AFBook(ta) {\n    const info = result['ä¹¦ç±ID'];\n    if (!info) return java.toast(\"\\næœªå¡«å…¥ä¹¦ç±idï¼Œè¯·è¿›ä¹¦ç±è¯¦æƒ…é¡µï¼Œæˆ–è€…æ‰‹åŠ¨å¡«å†™ã€‚\");\n    if (!source.getLoginHeaderMap()) return java.toast(\"æœªç™»å½•ï¼Œè¯·ç™»å½•åä½¿ç”¨\");\n    \n    try {\n        let url;\n        if (ta) {\n            url = `${ul}/user/bookshelf/add?novel_id=${info}`;\n        } else {\n            let src = \"\";\n            for (let page = 1;; page++) {\n                let sr = java.ajax(`${ul}/user/bookshelf?page=${page}`);\n                if (!/ä¹¦æ¶ç©ºç©ºå¦‚ä¹Ÿ/.test(sr)) {\n                    src += sr + \"\\n\";\n                } else break;\n            }\n            \n            const booklist = src.match(/\\/novel\\/\\d+\\.html/g);\n            const dfid = src.match(/\\/user\\/bookshelf\\/del[^\"]+/g);\n            const index = booklist.findIndex(book => book.includes(info));\n            if (index === -1) return java.toast('æœªæ‰¾åˆ°ä¹¦ç±');\n            url = GetUL() + dfid[index];\n        }\n        java.log(index + \"æˆ‘çš„\")\n        const msg = java.get(url, {\"x-requested-with\": \"XMLHttpRequest\"});\n        java.toast(JSON.parse(msg.body()).msg);\n    } catch (error) {\n    \t   java.log(error);\n        java.toast('æœªçŸ¥é”™è¯¯ï¼Œå·²æ‰“å°è‡³æ—¥å¿—');\n    }\n}\n\nfunction BookShelf() {\n    if (source.getLoginHeaderMap()) {\n        java.startBrowser(`${ul}/user/bookshelf/`, \"ä¹¦æ¶\");\n    } else {\n        java.toast(\"æœªç™»å½•ï¼Œè¯·ç™»å½•åå†ä½¿ç”¨æ­¤åŠŸèƒ½ã€‚\");\n    }\n}\n\nfunction inBookShelf() {\n    java.startBrowser(\"data:text/html;base64,\" + booklist(), \"ä¹¦æ¶\");\n}\n\nfunction bookinto() {\n    if (sg == '') return java.toast('ğŸš«è¯·è¿›å…¥ä¹¦ç±è¯¦æƒ…é¡µåæ“ä½œï¼Œæˆ–è€…åˆ·æ–°è¯•è¯•');\n    \n    const sg1 = JSON.parse(sg);\n    const exists = sgv.booklist.some(item => item.ID == sg1.ID);\n    \n    if (!exists) {\n        sgv.booklist.push(sg1);\n        source.setVariable(JSON.stringify(sgv, null, \"\\t\"));\n        java.toast(\"æ·»åŠ æˆåŠŸ\");\n    } else {\n        java.toast(\"ä¹¦ç±å·²å­˜å…¥æœ¬åœ°ä¹¦æ¶ä¸­\");\n    }\n}\n\nfunction bookmove(a) {\n\t  if (sg == '') return java.toast('ğŸš«è¯·è¿›å…¥ä¹¦ç±è¯¦æƒ…é¡µåæ“ä½œï¼Œæˆ–è€…åˆ·æ–°è¯•è¯•');\n        if (a == \"all\") {\n            source.put(\"list\", '');\n            sgv.booklist.length = 0;\n            source.setVariable(JSON.stringify(sgv, null, \"\\t\"));\n            java.toast('å·²æ¸…ç©ºæœ¬åœ°ä¹¦æ¶');\n            return;\n        }\n        \n        const sg1 = JSON.parse(sg);\n        const index = sgv.booklist.findIndex(item => item.ID == sg1.ID);\n        \n        if (index != -1) {\n            sgv.booklist.splice(index, 1);\n            source.setVariable(JSON.stringify(sgv, null, \"\\t\"));\n            java.toast(`å·²ä»æœ¬åœ°åˆ é™¤è¯¥ä¹¦ç±ã€‚\\nä¹¦ç±IDï¼š${sg1.ID}`);\n        } else {\n            java.toast('ä¹¦ç±ä¸åœ¨æœ¬åœ°ä¹¦æ¶ä¸­');\n    }\n}",
    "respondTime": 190259,
    "ruleBookInfo": {
      "author": "@get:{a}",
      "canReName": "1",
      "coverUrl": "@get:{i}\n@js: /^https?/.test(result) ? result : GetUL() + result;",
      "init": "<js>\nvar bookid = baseUrl.match(/novel\\/(\\d+)/)[1];\n//ä¹¦è¯„å‘é€\nconst bookva = book.getVariable(\"custom\");\nif (bookva && bookva != \"\") {\n    if (source.getLoginHeader()) {\n        const commenturl = `${GetUL()}/home/comment/add.html`;\n        let body = `content=${bookva}&type=novel&mid=${bookid}`;\n        \n        try {\n            const code = String(java.getVerificationCode(`data:image/svg+xml;base64,${codesvg}`));\n            \n            if (code == \"è¯„è®º\" || /^@\\d+$/.test(code)) {\n                if (/^@\\d+$/.test(code)) {\n                    body += `&pid=${code.match(/(\\d+)/)[1]}`;\n                }\n                \n                const headers = { \"x-requested-with\": \"XMLHttpRequest\" };\n                const response = java.post(commenturl, body, headers).body();\n                java.toast(JSON.parse(response).msg);\n            } else {\n                Packages.java.lang.Thread.sleep(40);\n                java.toast('è¯·æŒ‰å›¾ç‰‡è¦æ±‚å¡«å†™');\n            }\n        } catch (err) {\n            java.log(err);\n        }\n    } else {\n        java.toast(\"æœªç™»å½•ï¼Œè¯·ç™»å½•åæ“ä½œ\");\n    }\n    book.putCustomVariable(\"\");\n}\n\ntry {\n    sourceinfo = source.getLoginInfoMap();\n    sourceinfo['ä¹¦ç±ID'] = bookid;\n    if (bookid) {\n        source.putLoginInfo(JSON.stringify(sourceinfo));\n    }\n    $ = _ => String(java.getString(_));\n    img = /^https?/.test($('[property$=image]@content')) ? $('[property$=image]@content') : GetUL() + $('[property$=image]@content');\n    list = {\n        \"ID\": bookid,\n        \"img\": img,\n        \"name\": $('[property$=book_name]@content'),\n        \"author\": $('[property$=author]@content'),\n        \"info\": $('[property$=description]@content').slice(0, 45),\n        \"url\": \"legado://import/addToBookshelf?src=\" + baseUrl\n    }\n    source.put(\"list\", JSON.stringify(list));\n} catch (err) {\n    java.log(\"ç™»å½•UIæœªåˆå§‹åŒ–ä¿å­˜æ•°æ®ï¼š\" + err);\n}\nsrc;\n</js>\n@put:{\"n\":\"[property$=book_name]@content\",\n\"a\":\"[property$=author]@content\",\n\"t\":\"class.fix@p.2:3@text##.*[ï¼š:]\",\n\"k\":\"class.tg@span@text##[\\n#/]##,\",\n\"i\":\"[property$=image]@content\",\n\"l\":\"[property$=latest_chapter_name]@content\",\n\"m\":\"text.æŸ¥çœ‹å…¨éƒ¨ç« èŠ‚@href\",\n\"z\":\"class.fix@p.4@text##.*[ï¼š:]\",\n\"o\":\"[property$=description]@content\"}",
      "intro": "&nbsp;&nbsp;ğŸ“–ä¹¦ç±IDï¼š{{baseUrl.match(/novel\\/(\\d+)/)[1]}}\nâ˜‘å½“å‰ç«™æºï¼š{{GetUL()}}\nğŸ·ï¸æ ‡ç­¾ï¼š@get:{k}\nğŸ“œç®€ä»‹ï¼š@get:{o}\n<js>\nconst Bookid = baseUrl.match(/novel\\/(\\d+)/)[1];\nconst contul = `${GetUL()}/index.php?s=/Home/comment/lists/id/${Bookid}/type/novel/limit/5/size/12`;\nvar CommentNur = JSON.parse(source.getVariable()).co;\nvar cont = \"\";\nif (!CommentNur) {\n    var src = java.ajax(contul);\n    java.setContent(src);\n    var list = java.getElement('//script[@src=\"/public/static/jquery/jquery.min.js\"]/following-sibling::script[1]');\n    var lists = JSON.parse(String(list[0]).match(/var\\s*trre=([\\s\\S]+),page_num/)[1]);\n    //java.log(JSON.stringify(lists,null,\"\\t\"));\n\n    cont += \"ğŸ”»è¯„è®ºåŒºï¼š\\nâ—ï¸å³ä¸Šè§’ä¹¦ç±å˜é‡å¡«å…¥è¯„è®ºååˆ·æ–°è¯¦æƒ…é¡µå‘é€è¯„è®ºã€‚â—ï¸\\n\";\n    if (lists.length > 0) {\n        if (source.getLoginHeader()) {\n            let jc = source.getLoginHeaderMap();\n            let inf = decodeURIComponent(jc.get(\"Cookie\"));\n            let info = decodeURIComponent(inf).match(/\\{[\\s\\S]+\\}/)[0];\n            let myuid = JSON.parse(info)['uid'];\n            //å¤„ç†æˆ‘çš„è¯„è®ºæ•°æ®\n            var myComments = [];\n\n            function collectMyComments(comment, parentPath) {\n                let floor = parentPath ? `${parentPath}-${comment.floorIndex}` : comment.floorIndex;\n                if (comment.uid === Number(myuid)) {\n                    myComments.push({\n                        id: comment.id,\n                        username: comment.user.username,\n                        group: comment.user.group,\n                        floor: `ã€${floor}æ¥¼ã€‘`,\n                        time: timeov(comment.create_time * 1000),\n                        content: comment.content\n                    });\n                }\n                if (comment._?.forEach) {\n                    comment._.forEach((child, index) => {\n                        child.floorIndex = index + 1;\n                        collectMyComments(child, floor);\n                    });\n                }\n            }\n            lists.forEach((c, i) => {\n                c.floorIndex = i + 1;\n                collectMyComments(c, \"\");\n            });\n            //java.log(JSON.stringify(myComments));\n            var mySection = \"=== æˆ‘çš„è¯„è®ºï¼ˆå…±æ‰¾åˆ°\" + myComments.length + \"æ¡ï¼‰ ===\\n\\n\";\n            myComments.forEach(m => {\n                mySection += `â”Œã€IDï¼š${m.id}ã€‘| ğŸ‘¤${m.username} | ${m.group} | ${m.time}\\nâ””è¯„è®ºï¼š${m.content}\\n${m.floor}\\n `;\n            });\n        } else {\n            mySection = \"\";\n        }\n\n        //å¤„ç†å…¨éƒ¨è¯„è®ºæ•°æ®\n        function buildComments(comment, parentPath, level) {\n            let floor = parentPath ? `${parentPath}-${comment.floorIndex}` : comment.floorIndex;\n            let indent = '  '.repeat(level);\n            let str = `${indent}â”Œã€IDï¼š${comment.id}ã€‘|ğŸ‘¤${comment.user?.username || \"\"} | ${comment.user?.group || \"å·²æ³¨é”€ç”¨æˆ·\"} | ${timeov(comment.create_time * 1000)}\\n` +\n                `${indent}â””è¯„è®ºï¼š${comment.content}\\n` +\n                `${indent}ã€${floor}æ¥¼ã€‘\\n\\n`;\n\n            if (comment._?.forEach) {\n                comment._.forEach((child, index) => {\n                    child.floorIndex = index + 1;\n                    str += buildComments(child, floor, level + 1);\n                });\n            }\n            return str;\n        }\n\n        var allSection = \"=== å…¨éƒ¨è¯„è®ºï¼ˆå…±\" + lists.length + \"æ¡ï¼‰ ===\\n\\n\";\n        lists.forEach((c, i) => {\n            c.floorIndex = i + 1;\n            allSection += buildComments(c, \"\", 0);\n        });\n\n        //åˆå¹¶è¯„è®ºæ•°æ®\n        cont += mySection + \"\\n\" + allSection;\n    } else {\n        cont += \"æœ¬ä¹¦æš‚æ—¶æ²¡æœ‰è¯„è®ºå–”\";\n    }\n}\nresult = result + \"\\n\" + cont;\nresult;\n</js>",
      "kind": "@get:{t}\n@get:{k}",
      "lastChapter": "@get:{l}",
      "name": "@get:{n}",
      "tocUrl": "@get:{m}\n@js: GetUL() + result;",
      "wordCount": "@get:{z}"
    },
    "ruleContent": {
      "content": "@js:\nvar url = GetUL();\n//å¤„ç†å¼ºåˆ¶ç™»å½•\nvar nn = String(cookie.getCookie(url));\nvar coks = nn.split('; ');\nvar ckk = coks.filter(item => !item.startsWith(\"lf_reader_num\")).join('; ');\ncookie.setCookie(url, ckk);\nvar chapterul = java.hexDecodeToString(src);\n\njava.log(\"å½“å‰é˜…è¯»è¿›åº¦\" + book.durChapterIndex + \"|å·²åŠ è½½è¿›åº¦\" + chapter.index);\n\n//è‡ªåŠ¨å¤„ç†éªŒè¯\nfunction content() {\n    let html = java.ajax(chapterul);\n    if (!html.includes(\"æ»‘åŠ¨éªŒè¯\") && java.getString('#chapterContent@html', html) !== \"\") {\n        return java.getString('#chapterContent@html', html);\n    }\n    let headers = {\n        \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.171 Safari/537.36\",\n        \"Referer\": chapterul\n    };\n    try {\n        let s = html.match(/src=\\\"(\\/huadong[^\"]+)/)[1];\n        let sr = java.get(url + s, headers).body();\n        eval(sr.match(/(key=\\\".+?,value=\\\"[^;]+?\\;)/)[1]);\n        let va = getval(value);\n        let codeul = url + sr.match(/([^\"]+yanzheng_huadong\\.php[^\"]+)/)[1] + `${key}&value=${va}`;\n        let ck = java.get(codeul, headers);\n        java.log(\"éªŒè¯Cookieï¼š\" + JSON.stringify(ck.cookies()));\n        java.toast(\"æ£€æµ‹åˆ°éªŒè¯,å°è¯•è‡ªåŠ¨å¤„ç†â€¦â€¦\");\n\n        return java.getString('#chapterContent@html', java.ajax(chapterul));\n    } catch (error) {\n        java.log(error);\n        return \"è‡ªåŠ¨éªŒè¯å¤±è´¥ï¼Œè¯·é‡è¯•!\";\n    }\n}\n\nlet text;\nif (Math.abs(chapter.index - book.durChapterIndex) <= 3) {\n    text = content();\n} else {\n    text = \"å› ç½‘ç«™é€Ÿç‡é™åˆ¶ï¼Œå½“å‰é¢„ä¸‹è½½è¶…è¿‡ä¸‰ç« ï¼Œä¸ºé¿å…è¢«å°ipï¼Œè¢«åŠ¨åœæ­¢è§£ææ­£æ–‡ã€‚\\nå»ºè®®è°ƒå°é¢„ä¸‹è½½ï¼Œä¿æŒæ­£å¸¸é˜…è¯»é€Ÿåº¦ï¼Œåˆ·æ–°å³å¯é‡æ–°è·å–\";\n}\n\n//å¤„ç†é‡æ–°è·å–æ–‡æœ¬æ—¶å¯èƒ½ä¼šå‡ºç°çš„é”™è¯¯ã€‚\nlet retryCount = 0;\nconst maxRetries = 3;\nlet result;\nwhile (retryCount < maxRetries) {\n    if (text != false && text !== \"\") {\n        result = text;\n        break;\n    } else {\n        retryCount++;\n        java.toast(`æœªè·å–åˆ°æ–‡æœ¬ï¼Œæ­£åœ¨é‡è¯•...ï¼ˆå½“å‰ç¬¬${retryCount}æ¬¡é‡è¯•ï¼‰`);\n        text = content();\n    }\n}\nif (retryCount === maxRetries) {\n    result = \"é‡è¯•ä¸‰æ¬¡ä»æœªè·å–åˆ°æ–‡æœ¬ï¼Œè¯·æ£€æŸ¥ç½‘ç»œçŠ¶å†µã€‚\";\n}\nresult;",
      "imageStyle": "DEFAULT",
      "replaceRegex": "##\\n*{{chapter.title}}\\n*"
    },
    "ruleExplore": {
      "author": ".four@text||.t4@text||.mb-1 a@text",
      "bookList": "tbody > tr!0||.rec_rullist > ul||.list-group-item",
      "bookUrl": "a[href^=\"/novel/\"]@href\n@js: GetUL() + result;",
      "coverUrl": "img@src\n@js: /^https?/.test(result) ? result : GetUL() + result;",
      "intro": ".content-txt@text",
      "kind": "{{@@.sev@text%%.six@text}}\n{{@@.t6@text}}\n{{@@.t5@text}}\n{{@@small@text&&a[href$=\"tag\"]@text}}##\\[|\\]",
      "lastChapter": "a[href^=\"/book/\"]@text",
      "name": "a[href^=\"/novel/\"]@text##^\\d+?\\.",
      "wordCount": ".five@text||.mb-1@text\n@js:\nif (/search/.test(baseUrl)) result = result.split(/\\s|\\u3000/)[1].replace(/.*?ï¼š/, \"\");\nresult;"
    },
    "ruleSearch": {
      "author": ".mb-1 a@text",
      "bookList": ".list-group-item",
      "bookUrl": "a@href\n@js: GetUL() + result;",
      "intro": ".content-txt@text",
      "kind": "a[href$=\"tag\"]@text%%small@text##\\[|\\]",
      "name": "h5 a@text##^\\d+\\.",
      "wordCount": ".mb-1@text\n@js:result.split(/\\s|\\u3000/)[1].replace(/.*?ï¼š/, \"\");"
    },
    "ruleToc": {
      "chapterList": "class.section-list@a",
      "chapterName": "text",
      "chapterUrl": "href\n<js>\nvar url = GetUL() + result;\nresult = `data:;base64,${java.base64Encode(url)},{\"type\":\"chapter\"}`;\nresult;\n</js>",
      "preUpdateJs": "eval(String(source.loginUrl));\nvar sourceUL = GetUL();\nif (!String(book.bookUrl).includes(sourceUL)) {\n  book.bookUrl = String(book.bookUrl).replace(/https?:\\/\\/[^\\/]+/,sourceUL);\n  book.tocUrl = String(book.tocUrl).replace(/https?:\\/\\/[^\\/]+/,sourceUL);\n  java.toast(\"\\næ£€æµ‹åˆ°åˆ‡æ¢æºç«™ï¼Œå·²æ›´æ–°ç›®å½•é“¾æ¥ã€‚\");\n   java.refreshTocUrl();\n}"
    },
    "searchUrl": "{{eval(String(source.loginUrl));GetUL();}}/search.html?q={{key}}&f=_all&sort={{Sort_('search')}}&p={{page}}&serialize=",
    "variableComment": "ICAgICAgICAg5rqQ5L2c6ICF77yaICDlpJzms73lt50gICAgICAgICAgCiAg6K+355So5pyA5paw5rWL6K+VKGJldGEp54mI6ZiF6K+75L2/55So6K+l5rqQCiAg5L2/55So6L+H56iL5Lit6YGH5Yiw6Zeu6aKY77yM6K+36IezR2l0aHVi5Y+N6aaI44CCCiAgICAgIOKVkOKVkOKVkOKVkOKVpOKVkOKVkOKVkOKVkOKVkAogIOabtOaWsOaXpeW/lyjov5HmnJ8pCuKUjuKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUkgogIOWPkeeOsOaWsOWinuiHquWumuS5ieagh+etvvCfj7fvuI/vvIzlj6/mjqfmjpLluo8gLSAyMDI1LjcuMjMKICDkv67lpI3mkJzntKLvvIzmjpLluo/lj6/kvZznlKjkuo7mkJzntKLvvIzph43mjpLnmbvlvZVVSSAtIDIwMjUuNy4xMAogIOS/ruWkjeaOpeWPo+iOt+WPliAtIDIwMjUuNi4yNwogIOaWsOWinumCgOivt+eggeWKn+iDve+8iOeUn+aIkOS4gOS4qua2iOiAlzUw56ev5YiG77yJLSAyMDI1LjYuNAogIOS8mOWMlumDqOWIhuinhOWImSjmjqXlj6Pojrflj5Yv6ZSZ6K+v5o+Q56S6KSAtIDIwMjUuNS4yOAogIOWIh+aNouaOpeWPo+iHquWKqOabv+aNouacrOWcsOS5puaetuS5puexjemTvuaOpSAtIDIwMjUuNS44CuKUluKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUheKUmgAAAA==",
    "weight": 0
  }
]